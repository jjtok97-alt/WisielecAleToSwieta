<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ğŸ„ ÅšwiÄ…teczny Wisielec â€” Choinka z bombkami ğŸ…</title>
<style>
:root{
  --bg1:#c21807;
  --bg2:#1b5e20;
  --card-bg: rgba(255 255 255 / 0.15);
  --accent: #f9d342;
}
*{box-sizing:border-box}
body{
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, var(--bg1), var(--bg2));
  color: white;
  padding: 20px;
  display:flex;
  flex-direction:column;
  align-items:center;
  min-height:100vh;
  margin:0;
}
h1{
  font-weight:700;
  text-shadow:2px 2px 4px #000;
  margin-bottom:12px;
  text-align:center;
}

/* layout */
.container {
  display:flex;
  gap:24px;
  align-items:flex-start;
  width:100%;
  max-width:1000px;
  justify-content:center;
  flex-wrap:wrap;
}

/* tree card */
.tree-card{
  background: var(--card-bg);
  padding:12px;
  border-radius:10px;
  border:2px solid rgba(255 255 255 / 0.45);
  box-shadow:0 0 12px rgba(0,0,0,0.45);
  width:360px;
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* image wrapper */
.tree-wrap {
  position:relative;
  width:100%;
  background:transparent;
  border-radius:8px;
  overflow:visible;
}
.tree-wrap img{
  display:block;
  width:100%;
  height:auto;
  border-radius:8px;
  background: white;
}

/* ornaments placed absolutely over image using % */
.orn {
  position:absolute;
  font-size:28px;
  pointer-events:none;
  transition: transform 0.45s ease, opacity 0.45s ease;
  transform-origin:center;
}

/* falling animation */
@keyframes fall {
  0%{ transform: translateY(0) rotate(0deg); opacity:1; }
  80%{ opacity:1; }
  100%{ transform: translateY(260px) rotate(360deg); opacity:0; }
}
.fall { animation: fall 900ms ease-in forwards; }

/* hidden after fall */
.hidden { opacity:0; transform:scale(0.3); }

/* right panel */
.panel {
  background: var(--card-bg);
  padding:16px;
  border-radius:10px;
  border:2px solid rgba(255 255 255 / 0.45);
  box-shadow:0 0 12px rgba(0,0,0,0.45);
  width:420px;
  display:flex;
  flex-direction:column;
  gap:12px;
  align-items:center;
}

/* word display */
.word {
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  justify-content:center;
  min-height:60px;
}
.letter {
  width:44px;
  height:52px;
  border-radius:6px;
  background: rgba(255 255 255 / 0.9);
  color: var(--bg2);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  font-size:20px;
}
.space {
  background: transparent;
  border: none;
  width:44px;
  height:52px;
}

/* info, controls */
.info {
  font-size:1rem;
  text-shadow:1px 1px 2px #000;
  text-align:center;
  min-height:22px;
}
.controls {
  display:flex;
  gap:8px;
}
button.action {
  padding:10px 16px;
  border-radius:8px;
  border:none;
  cursor:pointer;
  background:#d32f2f;
  color:white;
  font-weight:700;
}
button.action:hover{ background:#b71c1c; }

.result {
  font-size:1rem;
  font-weight:700;
  color: var(--accent);
  text-shadow:1px 1px 2px #000;
}

/* responsive */
@media (max-width:880px){
  .container{ flex-direction:column; align-items:center }
  .panel{ width:92% }
  .tree-card{ width:92% }
}
</style>
</head>
<body>
<h1>ğŸ„ ÅšwiÄ…teczny Wisielec â€” choinka z bombkami ğŸ…</h1>

<div class="container">
  <div class="tree-card" aria-hidden="false">
    <div class="tree-wrap" id="treeWrap" aria-hidden="true">
      <!-- obrazek przesÅ‚any przez Ciebie -->
<img src="C:\Users\jjtok\Desktop\Nowy folder\35526.jpg" alt="Choinka" class="choinka">
      <!-- ozdoby (emoji) -->
      <span class="orn" data-index="0" id="orn0">ğŸ”´</span>
      <span class="orn" data-index="1" id="orn1">ğŸŸ¢</span>
      <span class="orn" data-index="2" id="orn2">ğŸ”µ</span>
      <span class="orn" data-index="3" id="orn3">ğŸŸ¡</span>
      <span class="orn" data-index="4" id="orn4">ğŸŸ£</span>
      <span class="orn" data-index="5" id="orn5">âšª</span>
      <span class="orn" data-index="6" id="orn6">ğŸŸ </span>
    </div>

    <div style="margin-top:10px; font-size:0.95rem;" class="info">
      BÅ‚Ä™dy: <span id="wrongCount">0</span> / <span id="maxWrong">7</span>
    </div>
  </div>

  <div class="panel" role="application" aria-label="Gra Wisielec">
    <div class="word" id="word"></div>

    <div class="info" id="message">Wpisz literÄ™ z klawiatury (polskie znaki obsÅ‚ugiwane).</div>

    <div class="controls" style="margin-top:8px;">
      <button class="action" id="newBtn">ğŸ” Nowa gra</button>
      <button class="action" id="revealBtn">ğŸ‘€ PokaÅ¼ hasÅ‚o</button>
    </div>

    <div class="result" id="result"></div>
  </div>
</div>

<script>
/* --- konfiguracja --- */
const ANSWER = "GORÄ„CA CZEKOLADA";
const MAX_WRONG = 7;
const ORN_COUNT = 7; // liczba ozdÃ³b (7)
const ORN_IDS = Array.from({length:ORN_COUNT}, (_,i)=>`orn${i}`);
document.getElementById('maxWrong').textContent = MAX_WRONG;

/* --- staÅ‚e pozycje ozdÃ³b w % wzglÄ™dem elementu treeWrap.
   KaÅ¼dy obiekt: {left:%, top:%} - dostosowane do Twojego obrazka.
   JeÅ›li chcesz przesunÄ…Ä‡, zmieÅ„ wartoÅ›ci procentowe. */
const ORN_POSITIONS = [
  {left: 56, top: 18},
  {left: 34, top: 26},
  {left: 68, top: 36},
  {left: 44, top: 46},
  {left: 62, top: 54},
  {left: 28, top: 60},
  {left: 50, top: 72}
];

/* --- stan gry --- */
let revealed = [];
let wrong = 0;
let finished = false;

/* --- elementy DOM --- */
const wordBox = document.getElementById('word');
const messageEl = document.getElementById('message');
const wrongCountEl = document.getElementById('wrongCount');
const resultEl = document.getElementById('result');
const newBtn = document.getElementById('newBtn');
const revealBtn = document.getElementById('revealBtn');
const treeWrap = document.getElementById('treeWrap');

/* --- ustawienia i renderowanie ozdÃ³b na obrazku --- */
function positionOrnaments(){
  const rect = treeWrap.getBoundingClientRect();
  // uÅ¼yj procentÃ³w aby byÅ‚y responsywne:
  ORN_POSITIONS.forEach((pos, idx) => {
    const el = document.getElementById(`orn${idx}`);
    if(!el) return;
    el.style.left = pos.left + '%';
    el.style.top = pos.top + '%';
    el.classList.remove('fall','hidden');
    el.style.opacity = 1;
  });
}

/* --- render sÅ‚owa --- */
function renderWord(){
  wordBox.innerHTML = '';
  for(const ch of ANSWER){
    const div = document.createElement('div');
    if(ch === ' '){
      div.className = 'space';
      div.innerHTML = '&nbsp;';
    } else {
      div.className = 'letter';
      div.textContent = revealed.includes(ch) ? ch : '';
    }
    wordBox.appendChild(div);
  }
}

/* --- przyjmowanie zgadniÄ™Ä‡ z klawiatury fizycznej --- */
const VALID_LETTERS = Array.from(
  "AÄ„BCÄ†DEÄ˜FGHIJKLÅMNOÃ“PQRSTUUVWXYZÅ¹Å»".split('')
);

window.addEventListener('keydown', (e) => {
  if(finished) return;
  let key = e.key || '';
  if(key.length !== 1) return;
  key = key.toUpperCase();

  // mapowanie polskich klawiszy, akceptuj takÅ¼e przyciÅ›niÄ™cia z alt/ctrl? pomijamy modyfikatory
  if(!VALID_LETTERS.includes(key)) return;

  handleGuess(key);
});

/* --- logika zgadywania --- */
function handleGuess(letter){
  if(finished) return;
  // jeÅ›li juÅ¼ odsÅ‚oniÄ™ta litera, nic nie rÃ³b
  if(revealed.includes(letter)) {
    messageEl.textContent = `Litera "${letter}" juÅ¼ odsÅ‚oniÄ™ta.`;
    return;
  }

  if(ANSWER.includes(letter)){
    // odsÅ‚oÅ„ wszystkie wystÄ…pienia
    revealed.push(letter);
    renderWord();
    messageEl.textContent = `Dobra! Litera "${letter}" jest w haÅ›le.`;
    checkWin();
  } else {
    wrong++;
    wrongCountEl.textContent = wrong;
    messageEl.textContent = `Niestety â€” litera "${letter}" nie wystÄ™puje.`;
    dropOrnament(wrong - 1);
    checkLose();
  }
}

/* --- animacja spadania ozdoby (po indeksie) --- */
function dropOrnament(idx){
  // spadamy od koÅ„ca listy, aby efekt byÅ‚ estetyczny (moÅ¼esz zmieniÄ‡)
  const el = document.getElementById(`orn${idx}`);
  if(!el) return;
  el.classList.add('fall');
  // po czasie animacji ukryj
  setTimeout(()=> el.classList.add('hidden'), 950);
}

/* --- warunki wygranej/przegranej --- */
function uniqueLetters(word){
  return Array.from(new Set(word.replaceAll(' ','').split('')));
}

function checkWin(){
  const uniques = uniqueLetters(ANSWER);
  const all = uniques.every(ch => revealed.includes(ch));
  if(all){
    finished = true;
    resultEl.textContent = `ğŸ‰ Brawo! HasÅ‚o: ${ANSWER}`;
    messageEl.textContent = 'UratowaÅ‚eÅ› wszystkie bombki!';
  }
}
function checkLose(){
  if(wrong >= MAX_WRONG){
    finished = true;
    resultEl.textContent = `ğŸ’¥ PrzegraÅ‚eÅ› â€” hasÅ‚o: ${ANSWER}`;
    messageEl.textContent = 'Bombki spadÅ‚y...';
    // pokaÅ¼ spadniÄ™cie pozostaÅ‚ych
    for(let i=0;i<ORN_COUNT;i++){
      const el = document.getElementById(`orn${i}`);
      if(el && !el.classList.contains('fall')){
        el.classList.add('fall');
        setTimeout(()=> el.classList.add('hidden'), 950);
      }
    }
  }
}

/* --- nowa gra i ujawnienie hasÅ‚a --- */
function startGame(){
  revealed = [];
  wrong = 0;
  finished = false;
  wrongCountEl.textContent = 0;
  resultEl.textContent = '';
  messageEl.textContent = 'Wpisz literÄ™ z klawiatury (polskie znaki obsÅ‚ugiwane).';
  positionOrnaments();
  renderWord();
}

function revealWord(){
  if(finished) return;
  revealed = uniqueLetters(ANSWER);
  renderWord();
  finished = true;
  resultEl.textContent = `ğŸ”“ HasÅ‚o: ${ANSWER}`;
  messageEl.textContent = 'HasÅ‚o ujawnione â€” rozpocznij nowÄ… grÄ™.';
  // usuÅ„ ozdoby wizualnie
  document.querySelectorAll('.orn').forEach(o => {
    o.classList.add('hidden');
  });
}

/* --- ObsÅ‚uga zmiany rozmiaru by pozycje pozostawaÅ‚y poprawne --- */
window.addEventListener('resize', () => {
  positionOrnaments();
});

/* --- inicjalizacja --- */
newBtn.addEventListener('click', startGame);
revealBtn.addEventListener('click', revealWord);

// ustaw poczÄ…tkowe pozycje po zaÅ‚adowaniu obrazka (Å¼eby mieÄ‡ pewnoÅ›Ä‡ rozmiaru)
const img = document.getElementById('treeImg');
if(img.complete){
  positionOrnaments();
  startGame();
} else {
  img.addEventListener('load', () => {
    positionOrnaments();
    startGame();
  });
}
</script>
</body>
</html>
